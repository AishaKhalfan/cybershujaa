(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="43a0c775-5c1f-4eb9-a64a-7dca86fa7708",e._sentryDebugIdIdentifier="sentry-dbid-43a0c775-5c1f-4eb9-a64a-7dca86fa7708")}catch{}})();const l="htb-referral-modal-status",o=4,n=6048e5;function i(){$("#referralModal").modal("show")}function a(){return localStorage.getItem(l)!==null}function t(){if(!a()){console.error("Retrieve config - referral config does not exist");return}return JSON.parse(localStorage.getItem(l))}function s(e){localStorage.setItem(l,JSON.stringify(e))}function f(){if(!a()){console.error("Update config - referral config does not exist");return}const e=t();e.allowModalDisplay&&(e.timesDisplayed=e.timesDisplayed+1,e.allowModalDisplay=e.timesDisplayed<o),e.currentTime=Date.now(),s(e)}function d(){const e=t();e&&(e.allowModalDisplay=!1,s(e))}function u(){a()?f():c()}$("#referralModal").on("shown.bs.modal",()=>{a()&&t().timesDisplayed>=3&&$("#disableReferralModalBtn").removeClass("d-none")});function c(){if(a())return;let e={};Object.assign(e,{timesDisplayed:1,currentTime:Date.now(),allowModalDisplay:!0}),s(e)}function y(){const e=t();if(!e)return!0;const r=Date.now()-e.currentTime;return e.allowModalDisplay&&r>=n}window.initReferralScheme=function(){(localStorage.getItem("htb-adblockDetected")==="false"||localStorage.getItem("htb-adblockBannerDismissed")==="true")&&localStorage.getItem("academy.intro")&&localStorage.getItem("academy.paths.intro")&&setTimeout(()=>{y()&&(i(),u())},1e4)};window.disableModalRedisplay=function(){a()||console.error("Disable modal display - referral config does not exist"),d(),$("#referralModal").modal("hide")};